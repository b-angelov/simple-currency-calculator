<html lang="bg">
<head>
    <meta charset="UTF-8">
    <title>Валутен калкулатор</title>
    <style>

        html{
            font-size: 16px;
            line-height: 3.5em;
            color: #891515;
            font-weight: 800;
            text-shadow: 0.1em 0.1em 0.16em rgba(182, 21, 21, 0.66);
        }

        body{
            font-family: 'Noto Serif Bulgarian', serif;
            background-color: rgba(174, 234, 178, 0.11);
        }

        #display{
            font-size: 2em;
            border-radius: 2em;
            font-weight: 900;
            display: flex;
            flex-direction: column;
            align-items: center;
            align-content: center;
            justify-content: center;
            justify-items: center;
            border: solid 2px #891515;
            position: absolute;
            top: 30vh;
            min-height: 50vh;
            max-width: 23vw;
            background: linear-gradient( to bottom,rgb(256,256,256,0.4), rgba(53, 185, 8, 0.4), rgba(248, 7, 7, 0.4));
        }

        .bg {
            background: linear-gradient( to bottom,rgb(256,256,256,0.4), rgba(53, 185, 8, 0.4), rgba(248, 7, 7, 0.4)) !important;
        }

        .eu {
            background: linear-gradient( to bottom, rgba(6, 19, 111, 0.3), rgb(6, 19, 111, 0.17), rgba(6, 19, 111, 0.3)) !important;

        }

        [id^="result"]{
            border: solid 1px red;
            min-height: 70vh;
            border-radius: 0.45em 0.55em 0.2em 0.3em;
            box-shadow: 0.2em 0.3em 0.1em #0d301f;
            background-color: rgba(241, 18, 18, 0.11);
        }

        form > div:last-child > div:last-child{
            box-shadow: -0.2em 0.3em 0.1em #0d301f;
            background-color: rgba(18, 96, 241, 0.11);

        }

        body,form,input,table{
            font-size: 1.2em;
        }

        #result-bgn{
            border-color: blue;
        }


        main{
            display: flex;
            flex-direction: column;
        }

        form{
            display: flex;
            font-size: 1.7em;
            gap: 18rem;
            /*align-items: center;*/
            align-content: center;
            text-align: center;
            width: 100%;
            justify-content: center;
            justify-items: center;
        }

        form div{
            display: flex;
            column-gap: 2em;
            row-gap: 0.3em;
            border-spacing: 0 1em;
            flex-direction: column;
            width: 30vw;
            max-width: 90%;
            align-content: center;
            align-items: center;
            text-align: center;
            justify-items: center;
            border-spacing: 3rem;
            border-collapse: unset;
            box-sizing: border-box;

        }

        input{
            width: 30vw;
            text-align: center;
            border: #abc solid 2px;
            border-radius: 0.1em 0.3em 0.4em 1em;
            box-shadow: 0.1em 0.15em 0.4em #0d301f;
        }

        form > div:last-child  input{
            border-radius: 0.1em 0.1em 1em 0.1em;
            box-shadow: 0.1em 0.15em 0.4em #0d301f;

        }

        hr{
            min-width:100%;
            min-height: 1rem;
            background-color: rgba(241, 202, 8, 0.62);
            border-radius: 0.5em;
        }

        .source{
            color: #e68709;
            font-size: 0.8em;
        }

        .result{
            color: #08a40a;

        }


    </style>
</head>
<body>
    <main>
        <form>
            <div>
                <label for="bgn">Сума в левове</label>
                <input type="number" placeholder="лева" id="bgn"></input>
                <div id="result-bgn"></div>
            </div>
            <div id="display">
                <div class="source"></div>
                <hr>
                <div class="result"></div>
            </div>
            <div>
                <label for="eur">Сума в евро</label>
                <input type="number" placeholder="евро" id="eur"></input>
                <div id="result-eur"></div>
            </div>
        </form>


    </main>

    <script>
        const eur = document.querySelector("#eur")
        const bgn = document.querySelector("#bgn")
        const source = document.querySelector(".source")
        const result = document.querySelector(".result")
        const display = document.querySelector("#display")
        const [resultBgn,resultEur] = document.querySelectorAll("[id^='result']")
        console.log(document.querySelectorAll("[id^='result']"))
        console.log(resultBgn,resultEur)
        const currency_rate = 1.95583

        const round = (num) => parseFloat(num).toFixed(2)

        let currentBgnEl = document.createElement("div")
        let currentEurEl = document.createElement("div")
        resultEur.appendChild(currentEurEl)
        resultBgn.appendChild(currentBgnEl)

        bgn.addEventListener("input", (e) => {
            source.innerHTML = `${e.target.value}лв.`
            result.innerHTML = `${round(e.target.value / currency_rate)}€`
            display.classList.remove("eu")
            display.classList.add('bg')
            currentBgnEl.innerText = `${e.target.value}лв. = ${round(e.target.value / currency_rate)}€ `
            resultEur.appendChild(element)

        })

        eur.addEventListener("input", (e) => {
            source.innerHTML = `${e.target.value}€`
            result.innerHTML = `${round(e.target.value * currency_rate)}лв.`
            display.classList.remove("bg")
            display.classList.add('eu')
            currentEurEl.innerText = `${e.target.value}€ = ${round(e.target.value * currency_rate)}лв.`
            resultEur.appendChild(element)
        })

        bgn.addEventListener("change", (e) => {
            currentBgnEl = document.createElement("div")
            resultBgn.insertBefore(currentBgnEl, resultBgn.firstChild)
        })

        eur.addEventListener("change", (e) => {
            currentEurEl = document.createElement("div")
            resultEur.insertBefore(currentEurEl, resultEur.firstChild)
        })



    </script>
</body>
</html>